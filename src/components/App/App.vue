<template>
  <div class="mdk-header-layout js-mdk-header-layout">
    <headerview></headerview>
    <div
      class="row mt-5 pt-5 justify-content-center"
      v-if="
        !curso.reglas_aceptadas ||
          !curso.video_rector ||
          !curso.informacion_llenada
      "
    >
      <div class="col-12 text-center" v-if="!curso.video_rector">
        <h3>Cápsula Saber Ser</h3>
      </div>
      <div class="col-11 col-lg-6 text-center mb-5" v-if="!curso.video_rector">
        <div class="row ">
          <div class="col-12 text-center">
            <a
              href=""
              v-on:click.prevent="Video_Visto"
              class="btn btn-sm btn-success"
              >Continuar</a
            >
          </div>
        </div>
      </div>
      <div
        class="col-12 mt-3 text-center"
        v-if="curso.video_rector && !curso.reglas_aceptadas"
      >
        <h3>Sinopsis con notas aclaratorias</h3>
      </div>
      <div class="col-12">
        <p>
          Es un gusto saludarte en esta ocasión por este medio y a su vez deseo
          reconocer tu gran esfuerzo y dedicación por llevar a cabo muy
          puntualmente el programa DIME (Desarrollo Integral del Manejo
          Emocional), el cual es una valiosa oportunidad para contribuir con tu
          plan de vida y carrera.
        </p>

        <p>
          Eres nuestra razón de SER y es por ello que creamos este programa para
          ti, ya que deseamos acompañarte en esta etapa socio-afectiva, que
          resulta esencial para enfrentar y resolver conflictos propios de tu
          edad y venideros en un futuro.
        </p>

        <p>
          El <b><i>Seminario de Counseling Virtual DIME</i></b
          >, es una plataforma de 6 horas (tu elijes tu ritmo) que te permitirá
          el desarrollo de habilidades intra e interpersonales, por mencionarte
          algunas: comunicación asertiva de sentimientos e ideas, crear
          situaciones de calma, optimismo, comprender mejor a los otros y a ti
          mismo, tomar decisiones más responsables, entre otras más. Para ello
          comprenderás, aplicarás y descubrirás las competencias centrales de la
          inteligencia emocional como lo son:
          <b
            ><i
              >Autoconocimiento, Autocontrol, Automotivación, Empatía y
              Habilidades Sociales.</i
            ></b
          >
        </p>

        <p>
          Estoy convencido que en tu interior hay algo muy grande que vencerá
          cualquier obstáculo, porque empezarás a creer aún más en ti y
          desarrollarás aún más tu capacidad de resiliencia.
        </p>
        <p>
          No te detengas, transfórmate y trasciende. Ing. Rogelio G. Garza
          Rivera. Rector
        </p>
      </div>
      <div
        class="col-12 col-lg-8 mt-3"
        v-if="curso.video_rector && !curso.reglas_aceptadas"
      >
        <ul>
          <li>
            El presente seminario es de orden genérico y está dirigido
            principalmente a la comunidad que no cuenta con conocimientos
            especializados en el tema. Además,
            <b>no sustituye o representa un tratamiento psicoterapéutico</b>.
          </li>
          <li class="mt-3">
            Resulta importante mencionar que se solicitaran ciertos datos
            generales sobre usted, para la elaboración de una
            <b>constancia</b> avalada por la <b>FAPSI y FIME</b>. Aclarando que
            en relación a las actividades propias del semanario serán manejadas
            con confidencialidad y anonimato.
          </li>
        </ul>
      </div>
      <div
        class="col-12 mt-5 mb-5 text-center"
        v-if="curso.video_rector && !curso.reglas_aceptadas"
      >
        <a href="" v-on:click.prevent="Comenzar" class="btn btn-success"
          >Comenzar</a
        >
      </div>
      <div
        class="col-12 mt-3 text-center"
        v-if="curso.reglas_aceptadas && !curso.informacion_llenada"
      >
        <h3>Información Básica</h3>
      </div>
      <div
        class="col-lg-8 col-12 mt-5"
        v-if="curso.reglas_aceptadas && !curso.informacion_llenada"
      >
        <div class="row justify-content-center">
          <div class="col-12">
            <div class="row justify-content-center">
              <div class="col-md-4">
                <div class="row">
                  <div class="col-12 text-center">
                    ¿Eres estudiante de la UANL?
                  </div>
                  <div class="col-12 mt-2 text-center">
                    <div class="form-check form-check-inline">
                      <input
                        class="form-check-input"
                        type="radio"
                        name="estudiante_uanl"
                        id="si_estudiante_uanl"
                        v-model="curso.usuario.estudiante_uanl"
                        value="si"
                      />
                      <label class="form-check-label" for="si_estudiante_uanl"
                        >Si</label
                      >
                    </div>
                    <div class="form-check form-check-inline">
                      <input
                        class="form-check-input"
                        type="radio"
                        name="estudiante_uanl"
                        id="no_estudiante_uanl"
                        v-model="curso.usuario.estudiante_uanl"
                        value="no"
                      />
                      <label class="form-check-label" for="no_estudiante_uanl"
                        >No</label
                      >
                    </div>
                    <div class="form-check form-check-inline">
                      <input
                        class="form-check-input"
                        type="radio"
                        name="estudiante_uanl"
                        id="egresado_estudiante_uanl"
                        v-model="curso.usuario.estudiante_uanl"
                        value="egresado"
                      />
                      <label
                        class="form-check-label"
                        for="egresado_estudiante_uanl"
                        >Egresado</label
                      >
                    </div>
                  </div>
                </div>
              </div>
            </div>
            <div class="row justify-content-center">
              <div class="col-md-6 mt-5">
                <div class="row justify-content-center">
                  <div
                    class="col-8 col-md-10"
                    v-if="
                      curso.usuario.estudiante_uanl == 'si' ||
                        curso.usuario.estudiante_uanl == 'egresado'
                    "
                  >
                    <div class="input-group">
                      <div class="input-group-prepend">
                        <label class="input-group-text" for="preparatoria"
                          >Preparatoria</label
                        >
                      </div>
                      <select
                        class="custom-select"
                        v-model="curso.usuario.preparatoria"
                        id="preparatoria"
                      >
                        <option value="Preparatoria1">Preparatoria 1</option>
                        <option value="Preparatoria2">Preparatoria 2</option>
                        <option value="Preparatoria3">Preparatoria 3</option>
                        <option value="Preparatoria4">Preparatoria 4</option>
                        <option value="Preparatoria5">Preparatoria 5</option>
                        <option value="Preparatoria6">Preparatoria 6</option>
                        <option value="Preparatoria7">Preparatoria 7</option>
                        <option value="Preparatoria8">Preparatoria 8</option>
                        <option value="Preparatoria9">Preparatoria 9</option>
                        <option value="Preparatoria10">Preparatoria 10</option>
                        <option value="Preparatoria11">Preparatoria 11</option>
                        <option value="Preparatoria12">Preparatoria 12</option>
                        <option value="Preparatoria13">Preparatoria 13</option>
                        <option value="Preparatoria14">Preparatoria 14</option>
                        <option value="Preparatoria15">Preparatoria 15</option>
                        <option value="Preparatoria16">Preparatoria 16</option>
                        <option value="Preparatoria17">Preparatoria 17</option>
                        <option value="Preparatoria18">Preparatoria 18</option>
                        <option value="Preparatoria19">Preparatoria 19</option>
                        <option value="Preparatoria20">Preparatoria 20</option>
                        <option value="Preparatoria21">Preparatoria 21</option>
                        <option value="Preparatoria22">Preparatoria 22</option>
                        <option value="Preparatoria23">Preparatoria 23</option>
                        <option value="Preparatoria24">Preparatoria 24</option>
                        <option value="Preparatoria25">Preparatoria 25</option>
                        <option value="AlvaroObregon"
                          >Escuela Industrial y Preparatoria Técnica "Álvaro
                          Obregón"</option
                        >
                        <option value="CIDEB"
                          >Centro de Investigación y Desarrollo en Educación
                          Bilingüe CIDEB</option
                        >
                        <option value="PabloLivas"
                          >Escuela Industrial y Preparatoria Técnica "Pablo
                          Livas"</option
                        >
                        <option value="TecnicaMedica"
                          >Escuela y Preparatoria Técnica Médica</option
                        >
                      </select>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div
        class="col-12 mt-5 mb-5 text-center"
        v-if="curso.reglas_aceptadas && !curso.informacion_llenada"
      >
        <a href="" v-on:click.prevent="Continuar" class="btn btn-success"
          >Continuar</a
        >
      </div>
    </div>
    <contenidoview
      v-if="curso.reglas_aceptadas && curso.informacion_llenada"
    ></contenidoview>
  </div>
</template>

<script>
import { mapActions } from "vuex";
import HeaderView from "@/components/Header/Header.vue";
import ContenidoView from "@/components/Contenido/Contenido.vue";
export default {
  components: {
    headerview: HeaderView,
    contenidoview: ContenidoView
  },
  data() {
    return {
      time: 60,
      timer: null,
      continuar: true
    };
  },
  methods: {
    Video_Visto() {
      this.curso.video_rector = true;
      this.Guardar_En_LocalStorage();
      //this.Guardar_En_Firebase();
    },
    Comenzar() {
      this.curso.reglas_aceptadas = true;
      this.Guardar_En_LocalStorage();
      //this.Guardar_En_Firebase();
    },
    Continuar() {
      if (this.curso.usuario.estudiante_uanl == null) {
        alert("Todos las preguntas son obligatorias");
      } else {
        $(".preloader").fadeIn();
        this.curso.informacion_llenada = true;
        this.Guardar_En_LocalStorage();
        this.Guardar_En_Firebase("si");
      }
    },
    ...mapActions([
      "LocalStorage_Avance",
      "Guardar_En_LocalStorage",
      "Guardar_En_Firebase"
    ])
  },
  computed: {
    curso() {
      return this.$store.getters.getCurso;
    }
  }
};
</script>

<style>
video {
  width: 100%;
  height: auto;
}
</style>
